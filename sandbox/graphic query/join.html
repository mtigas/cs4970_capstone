<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7/jquery-ui.min.js"></script>
  
  <link type="text/css" href="./js/css/ui-lightness/jquery-ui-1.7.2.custom.css" rel="stylesheet" />
  
  <script type="text/javascript">
  var ws,ts;
  if ($tabs === undefined) var $tabs;
  if (TAB_SELECT_OK === undefined) var TAB_SELECT_OK=false;

  $(function(){
    ws = new Workspace( "ws" ); 
    ts = new TableStore( document.getElementById("ts") );

     $("#join_button").click(function (){
      // Handle finishing on the join tab
      
      //check there is tables in join set or 1 tab in the ws. if not alert the user.
      if (true) {
        if( true){
          alert("You have to join tables or have only one table in the workspace.");
          return;
        }
        //can move on with 1 tab in ws
        ws.addInMiddle("Table0");
      }
      
      //deactivate this tab
      TAB_SELECT_OK = true;
      
      //join  set is published to wsRef.joinSet (as array of strings=ids)
      //join set has >=1 childs
      //activate/display the next tab
      $tabs.tabs('select',1);
      scream(); //start the projection tab
      TAB_SELECT_OK = false;
    });
   });
  </script>
  <script type="text/javascript" src="./Workspace.js" charset="utf-8"></script>
  <script type="text/javascript" src="./TableStore.js" charset="utf-8"></script>

</head>
<body style="font-size:62.5%;"><div style="height:500px" id="fragment-1">

  <div id="ws" style="float:left;"></div>
  
  <div id="ts" style="float:left;"></div>
  
  <div> 
       <!-- <input type="button" onclick="ws.addNewTable('Sailor');" value="Push to Close"> <br> -->
       <input type="button" onclick="ws.clear();" value="Clear"/> <br/>
       <!-- <input type="button"onclick="ws.showJoins();"value="Show join set"/><br/> -->
       <!-- <input type="button"onclick="ws.showJoinCount();"value="Show join set count"/> -->
       <br/> <input type="button" id="join_button" value="Join the tables"/>
  </div>

</div>
</body>
</html>
